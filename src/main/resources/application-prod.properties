# Production Environment Configuration

# Database - Local (use environment variables)
spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT:3306}/${DB_NAME}?useSSL=true&serverTimezone=UTC
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Database - External (temporarily disabled for initial deployment)
# external.datasource.url=jdbc:mysql://${EXTERNAL_DB_HOST}:3306/${EXTERNAL_DB_NAME}?useSSL=true&serverTimezone=UTC
# external.datasource.username=${EXTERNAL_DB_USERNAME}
# external.datasource.password=${EXTERNAL_DB_PASSWORD}
# external.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# External JPA/Hibernate Configuration (temporarily disabled)
# external.jpa.hibernate.ddl-auto=none

# JPA - Use update mode for initial deployment
spring.jpa.hibernate.ddl-auto=updatete
spring.jpa.show-sql=false

# JWT - Must use strong secret from environment (REQUIRED)
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:1800000}
jwt.issuer=${JWT_ISSUER:personnel-tracking-system}

# SMS Gateway - Production configuration
sms.gateway.url=${SMS_GATEWAY_URL}
sms.gateway.api-key=${SMS_GATEWAY_API_KEY}
sms.gateway.sender=${SMS_SENDER_ID}

# Mock SMS for development (set to true to disable real SMS)
mock.sms.enabled=${MOCK_SMS_ENABLED:false}

# Logging - Less verbose in production
logging.level.root=WARN
logging.level.com.bidb.personetakip=INFO
logging.level.org.springframework.security=WARN

# SSL/HTTPS - Handled by nginx reverse proxy
server.ssl.enabled=false

# Trust proxy headers (important for reverse proxy)
server.forward-headers-strategy=framework
server.use-forward-headers=true

# Server port (behind nginx reverse proxy)
server.port=${SERVER_PORT:8080}

# Context path for reverse proxy
server.servlet.context-path=/

# CORS - Restrict to specific origins in production (REQUIRED)
cors.allowed-origins=${CORS_ALLOWED_ORIGINS}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=Authorization,Content-Type,Accept,X-Requested-With
cors.allow-credentials=true
cors.max-age=3600

# Thymeleaf caching enabled
spring.thymeleaf.cache=true

# Error handling - Don't expose details
server.error.include-stacktrace=never
server.error.include-exception=false

# IP Tracking - Production Settings (Privacy-focused)
ip.tracking.enabled=${IP_TRACKING_ENABLED:true}
ip.tracking.privacy.enabled=${IP_TRACKING_PRIVACY_ENABLED:true}
ip.tracking.privacy.anonymize-reports=${IP_TRACKING_ANONYMIZE_REPORTS:true}
ip.tracking.privacy.audit-logging=${IP_TRACKING_AUDIT_LOGGING:true}
ip.tracking.privacy.retention-days=${IP_TRACKING_RETENTION_DAYS:365}
ip.tracking.privacy.require-consent=${IP_TRACKING_REQUIRE_CONSENT:false}
ip.tracking.anonymization.enabled=${IP_TRACKING_ANONYMIZATION_ENABLED:true}
ip.tracking.anonymization.method=${IP_TRACKING_ANONYMIZATION_METHOD:MASK}
ip.tracking.anonymization.ipv4-preserve-octets=${IP_TRACKING_IPV4_PRESERVE_OCTETS:2}
ip.tracking.anonymization.ipv6-preserve-groups=${IP_TRACKING_IPV6_PRESERVE_GROUPS:4}
ip.tracking.performance.capture-timeout-ms=${IP_TRACKING_CAPTURE_TIMEOUT_MS:500}
ip.tracking.performance.async-logging=${IP_TRACKING_ASYNC_LOGGING:true}
ip.tracking.performance.cache-size=${IP_TRACKING_CACHE_SIZE:1000}
ip.tracking.performance.cache-ttl-seconds=${IP_TRACKING_CACHE_TTL_SECONDS:300}
# OpenAPI/Swagger UI Configuration - Production (Restricted)
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=${SWAGGER_UI_ENABLED:false}
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.display-request-duration=false
springdoc.swagger-ui.doc-expansion=none

# Application Version
app.version=${APP_VERSION:1.0.0}
# QR Code Configuration - Production Settings
qr.code.max-usage-per-day=2
qr.code.development-mode=false